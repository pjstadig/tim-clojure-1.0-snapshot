<?xml version='1.0' encoding='UTF-8'?>
<!--

  All content copyright (c) 2003-2008 Terracotta, Inc.,
  except as may otherwise be noted in a separate copyright notice.
  All rights reserved.

-->
<tc:tc-config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tc="http://www.terracotta.org/config" xsi:schemaLocation="http://www.terracotta.org/schema/terracotta-4.xsd">
  <!--Server is colocated with client and DSO is listening on
  default port (9510).-->
  <servers>
    <server name="org.terracotta.modules.sample-hostname" host="%i">
      <dso>
        <persistence>
          <mode>permanent-store</mode>
        </persistence>
      </dso>
    </server>
    <update-check>
      <enabled>true</enabled>
    </update-check>
  </servers>

  <!--Configure DSO for 'development' mode;
  See the Terracotta DSO Guide for additional information.-->
  <system>
    <configuration-model>development</configuration-model>
  </system>

  <application>
    <dso>
      <roots>
        <root>
          <field-name>stadigtech.terraclojure.Root.hash</field-name>
        </root>
        <root>
          <field-name>stadigtech.terraclojure.Root.count</field-name>
        </root>
        <root>
          <field-name>clojure.lang.Keyword.table</field-name>
        </root>
      </roots>
      <locks>
        <autolock>
          <method-expression>* clojure.lang..*.*(..)</method-expression>
          <lock-level>write</lock-level>
        </autolock>
      </locks>
      <additional-boot-jar-classes>
        <include>java.util.UUID</include>
      </additional-boot-jar-classes>
      <instrumented-classes>
        <include>
          <class-expression>clojure.lang.*</class-expression>
        </include>
      </instrumented-classes>
    </dso>
  </application>

</tc:tc-config>
